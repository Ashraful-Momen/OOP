ржЕржмрж╢рзНржпржЗ! ржирж┐ржЪрзЗ ржПржХржЯрж┐ **Laravel ржкрзНрж░ржЬрзЗржХрзНржЯрзЗ Factory Pattern + No-new-object Client Code**-ржПрж░ ржЫрзЛржЯрзНржЯ ржЙржжрж╛рж╣рж░ржг ржжрж┐ржЪрзНржЫрж┐ ржпрзЗржЦрж╛ржирзЗ:

* ржЖржорж░рж╛ ржПржХржЯрж┐ `Notification` system рждрзИрж░рж┐ ржХрж░ржм
* ржмрж┐ржнрж┐ржирзНржи ржЯрж╛ржЗржкрзЗрж░ Notification (Email, SMS) ржХрзНрж▓рж╛рж╕ ржерж╛ржХржмрзЗ
* Client ржХржЦржирзЛ `new` ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗ ржирж╛
* рж╕ржмржХрж┐ржЫрзБ Factory ржУ Service Container ржПрж░ ржорж╛ржзрзНржпржорзЗ рж╣ржмрзЗ

---

## тЬЕ **Laravel Factory Pattern + No `new` in Client - ржЙржжрж╛рж╣рж░ржг ржкрзНрж░ржЬрзЗржХрзНржЯ**

---

### ЁЯз▒ Step 1: Interface рждрзИрж░рж┐ ржХрж░рзБржи

ЁЯУБ `app/Contracts/NotificationInterface.php`

```php
<?php

namespace App\Contracts;

interface NotificationInterface
{
    public function send(string $message): void;
}
```

---

### ЁЯз▒ Step 2: Concrete Implementations рждрзИрж░рж┐ ржХрж░рзБржи

ЁЯУБ `app/Services/EmailNotification.php`

```php
<?php

namespace App\Services;

use App\Contracts\NotificationInterface;

class EmailNotification implements NotificationInterface
{
    public function send(string $message): void
    {
        echo "ЁЯУз Email Sent: {$message}";
    }
}
```

ЁЯУБ `app/Services/SMSNotification.php`

```php
<?php

namespace App\Services;

use App\Contracts\NotificationInterface;

class SMSNotification implements NotificationInterface
{
    public function send(string $message): void
    {
        echo "ЁЯУ▒ SMS Sent: {$message}";
    }
}
```

---

### ЁЯз▒ Step 3: Factory ржХрзНрж▓рж╛рж╕ рждрзИрж░рж┐ ржХрж░рзБржи

ЁЯУБ `app/Factories/NotificationFactory.php`

```php
<?php

namespace App\Factories;

use App\Contracts\NotificationInterface;
use App\Services\EmailNotification;
use App\Services\SMSNotification;
use InvalidArgumentException;

class NotificationFactory
{
    public static function make(string $type): NotificationInterface
    {
        return match($type) {
            'email' => new EmailNotification(),
            'sms'   => new SMSNotification(),
            default => throw new InvalidArgumentException("Invalid notification type: $type"),
        };
    }
}
```

---

### ЁЯз▒ Step 4: Service Provider ржП bind ржХрж░рзЗ Dependency Injection Allow ржХрж░рзБржи (Optional)

ЁЯУБ `app/Providers/AppServiceProvider.php`

```php
use App\Factories\NotificationFactory;

public function register(): void
{
    $this->app->bind(NotificationFactory::class, function () {
        return new NotificationFactory();
    });
}
```

---

### ЁЯз▒ Step 5: Controller (Client Code) тАФ ржХрзЛржирзЛ `new` ржирж╛ржЗ!

ЁЯУБ `app/Http/Controllers/NotificationController.php`

```php
<?php

namespace App\Http\Controllers;

use App\Factories\NotificationFactory;
use Illuminate\Http\Request;

class NotificationController extends Controller
{
    public function notify(Request $request)
    {
        $type = $request->input('type', 'email'); // default 'email'
        $message = $request->input('message', 'Hello from Factory Pattern!');

        // Client never uses `new`
        $notifier = NotificationFactory::make($type);
        $notifier->send($message);

        return response()->json(['status' => 'sent']);
    }
}
```

---

### ЁЯз▒ Step 6: Web Route ржпрзЛржЧ ржХрж░рзБржи

ЁЯУБ `routes/web.php`

```php
use App\Http\Controllers\NotificationController;

Route::get('/notify', [NotificationController::class, 'notify']);
```

---

### ЁЯФН ржЯрзЗрж╕рзНржЯ ржХрж░рзБржи

#### URL:

```
http://localhost:8000/notify?type=email&message=Hi+Email
http://localhost:8000/notify?type=sms&message=Hi+SMS
```

#### Output:

```
ЁЯУз Email Sent: Hi Email
ЁЯУ▒ SMS Sent: Hi SMS
```

---

## ЁЯза ржПржЗ ржкрзНрж░ржЬрзЗржХрзНржЯрзЗ ржХрзА рж╢рж┐ржЦрж▓рзЗржи:

| ржЬрж┐ржирж┐рж╕                        | ржмрзНржпрж╛ржЦрзНржпрж╛                                                            |
| ---------------------------- | ------------------------------------------------------------------- |
| Factory Pattern              | Object creation central ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗ                                   |
| No `new` in Client Code      | Controller ржХржЦржирзЛ ржХрзНрж▓рж╛рж╕ instantiate ржХрж░рзЗ ржирж╛                            |
| Interface-based Development  | Concrete ржХрзНрж▓рж╛рж╕ржХрзЗ ржирж╛ ржЬрзЗржирзЗ ржХрж╛ржЬ ржХрж░ржЫрзЗ                                   |
| Decoupling & Maintainability | Future ржП ржирждрзБржи Notification type ржпрзЛржЧ ржХрж░рж▓рзЗржУ Controller ржирж╛ ржмржжрж▓рж╛рж▓рзЗржУ ржЪрж▓рзЗ |

---

## ЁЯФЪ рж╢рзЗрж╖ ржХржерж╛:

ржПржЗ design Laravel application ржП Clean Architecture ржПржмржВ SOLID principle ржорзЗржирзЗ ржЪрж▓рзЗред
ржЪрж╛ржЗрж▓рзЗржЗ ржЖржорж┐ ржПржЯрж┐ржХрзЗ **Service Container ржжрж┐рзЯрзЗ ржЖрж░ржУ Advanced DI Version** ржмрж╛ржирж┐рзЯрзЗ ржжрж┐рждрзЗ ржкрж╛рж░рж┐ред

ржмрж▓рзБржи, ржЖржкржирж┐ ржЪрж╛ржЗрж▓рзЗ ржПржЗ ржХрзЛржб ржЧрзБрж▓рзЛ `.zip` ржХрж░рзЗ Laravel ржкрзНрж░ржЬрзЗржХрзНржЯ ржЖржХрж╛рж░рзЗржУ ржжрж┐рждрзЗ ржкрж╛рж░рж┐ред ржХрж┐ржВржмрж╛ ржЪрж╛ржЗрж▓рзЗ Notification System-ржП **Database Logging** ржмрж╛ **Queue Job** ржУ ржпрзБржХрзНржд ржХрж░рждрзЗ ржкрж╛рж░рж┐ред

ржЖржкржирж╛рж░ ржкрж░ржмрж░рзНрждрзА ржЪрж╛рж╣рж┐ржжрж╛ ржХрзА рж╣ржмрзЗ? ЁЯШК
