à¦…à¦¸à¦¾à¦§à¦¾à¦°à¦£ à¦…à¦¨à§à¦°à§‹à¦§! à¦¨à¦¿à¦šà§‡ à¦†à¦ªà¦¨à¦¾à¦•à§‡ **Laravel-à¦à¦° à¦®à¦¤à§‹ à¦•à¦°à§‡ Raw PHP à¦¦à¦¿à§Ÿà§‡ à¦à¦•à¦Ÿà¦¿ Complete Dependency Injection System à¦¬à¦¾à¦¨à¦¿à§Ÿà§‡ à¦¦à§‡à¦–à¦¾à¦¨à§‹ à¦¹à§Ÿà§‡à¦›à§‡** â€” à¦¯à§‡à¦–à¦¾à¦¨à§‡ à¦°à§Ÿà§‡à¦›à§‡:

* `Service Container`
* `Service Provider`
* `app()->bind()`, `app()->make()`-à¦à¦° à¦®à¦¤à§‹ Feature
* Interface Binding & Resolution
* Bkash + Nagad Payment Implementation

---

# ğŸ§ª Laravel-Like Dependency Injection System in Raw PHP (Full Project)

---

## âœ… à§§. ğŸ¯ Objective:

Laravel-à¦à¦° à¦®à¦¤à§‹ à¦•à¦°à§‡ Raw PHP à¦¦à¦¿à§Ÿà§‡ à¦¨à¦¿à¦šà§‡à¦° Component à¦—à§à¦²à§‹ à¦¬à¦¾à¦¨à¦¾à¦¬à§‹:

| Laravel Component       | Raw PHP Implementation      |
| ----------------------- | --------------------------- |
| `AppServiceProvider`    | `AppServiceProvider.php`    |
| `app()->bind()`         | `App::bind()`               |
| `app()->make()`         | `App::make()`               |
| `Constructor Injection` | Class Dependency Resolution |
| `Contracts/Interface`   | Interface Injection         |

---

## ğŸ“ Folder Structure:

```
di_project/
â”‚
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ Interfaces/
â”‚   â”‚   â””â”€â”€ PaymentInterface.php
â”‚   â”œâ”€â”€ Services/
â”‚   â”‚   â”œâ”€â”€ BkashPayment.php
â”‚   â”‚   â””â”€â”€ NagadPayment.php
â”‚   â””â”€â”€ Http/
â”‚       â””â”€â”€ Controllers/
â”‚           â””â”€â”€ CheckoutController.php
â”‚
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ App.php
â”‚   â””â”€â”€ ServiceProvider.php
â”‚
â”œâ”€â”€ providers/
â”‚   â””â”€â”€ AppServiceProvider.php
â”‚
â”œâ”€â”€ bootstrap.php
â””â”€â”€ index.php
```

---

## âœ… Step-by-Step Implementation

---

### âœ… 1. `app/Interfaces/PaymentInterface.php`

```php
<?php
namespace App\Interfaces;

interface PaymentInterface {
    public function pay();
}
```

---

### âœ… 2. `app/Services/BkashPayment.php`

```php
<?php
namespace App\Services;

use App\Interfaces\PaymentInterface;

class BkashPayment implements PaymentInterface {
    public function pay() {
        return "âœ… Paid with Bkash";
    }
}
```

---

### âœ… 3. `app/Services/NagadPayment.php`

```php
<?php
namespace App\Services;

use App\Interfaces\PaymentInterface;

class NagadPayment implements PaymentInterface {
    public function pay() {
        return "âœ… Paid with Nagad";
    }
}
```

---

### âœ… 4. `app/Http/Controllers/CheckoutController.php`

```php
<?php
namespace App\Http\Controllers;

use App\Interfaces\PaymentInterface;

class CheckoutController {
    protected $payment;

    public function __construct(PaymentInterface $payment) {
        $this->payment = $payment;
    }

    public function completePayment() {
        return $this->payment->pay();
    }
}
```

---

### âœ… 5. `core/App.php` â€“ **Service Container**

```php
<?php
namespace Core;

use ReflectionClass;

class App {
    protected $bindings = [];

    public function bind($abstract, $concrete) {
        $this->bindings[$abstract] = $concrete;
    }

    public function make($abstract) {
        if (isset($this->bindings[$abstract])) {
            $concrete = $this->bindings[$abstract];
        } else {
            $concrete = $abstract;
        }

        $reflector = new ReflectionClass($concrete);

        if (!$reflector->isInstantiable()) {
            throw new Exception("Class {$concrete} is not instantiable");
        }

        $constructor = $reflector->getConstructor();

        if (!$constructor) {
            return new $concrete;
        }

        $params = $constructor->getParameters();
        $dependencies = [];

        foreach ($params as $param) {
            $dependency = $param->getType()->getName();
            $dependencies[] = $this->make($dependency);
        }

        return $reflector->newInstanceArgs($dependencies);
    }
}
```

---

### âœ… 6. `core/ServiceProvider.php`

```php
<?php
namespace Core;

abstract class ServiceProvider {
    protected $app;

    public function __construct(App $app) {
        $this->app = $app;
    }

    abstract public function register();
}
```

---

### âœ… 7. `providers/AppServiceProvider.php`

```php
<?php
namespace Providers;

use Core\ServiceProvider;
use App\Interfaces\PaymentInterface;
use App\Services\BkashPayment;

class AppServiceProvider extends ServiceProvider {
    public function register() {
        // Bind Interface to Implementation
        $this->app->bind(PaymentInterface::class, BkashPayment::class);
    }
}
```

---

### âœ… 8. `bootstrap.php` â€“ Autoloader & Bindings

```php
<?php

spl_autoload_register(function ($class) {
    $class = str_replace("\\", "/", $class);
    require_once __DIR__ . "/$class.php";
});
```

---

### âœ… 9. `index.php` â€“ Main Entry Point

```php
<?php
require_once 'bootstrap.php';

use Core\App;
use Providers\AppServiceProvider;
use App\Http\Controllers\CheckoutController;

// Create Container
$app = new App();

// Register Service Provider
$provider = new AppServiceProvider($app);
$provider->register();

// Resolve Controller with Dependencies
$controller = $app->make(CheckoutController::class);

echo $controller->completePayment();
```

---

## âœ… Output:

```
âœ… Paid with Bkash
```

(à¦†à¦ªà¦¨à¦¿ à¦šà¦¾à¦‡à¦²à§‡ `AppServiceProvider`-à¦ `NagadPayment` bind à¦•à¦°à§‡ Nagad-à¦“ à¦šà¦¾à¦²à¦¾à¦¤à§‡ à¦ªà¦¾à¦°à¦¬à§‡à¦¨à¥¤)

---

## ğŸ” Bonus: Nagad à¦šà¦¾à¦²à¦¾à¦¤à§‡ à¦šà¦¾à¦¨?

```php
// AppServiceProvider.php
$this->app->bind(PaymentInterface::class, NagadPayment::class);
```

---

## ğŸ§  à¦†à¦ªà¦¨à¦¿ à¦¯à¦¾ à¦¶à¦¿à¦–à¦²à§‡à¦¨ Laravel-Like Structure à¦¥à§‡à¦•à§‡:

| Laravel Concept         | Raw PHP Code                     |
| ----------------------- | -------------------------------- |
| Service Container       | `Core\App`                       |
| Interface Binding       | `AppServiceProvider::register()` |
| Dependency Resolution   | Reflection Based Resolver        |
| Controller Injection    | Auto Inject via `make()`         |
| Multiple Implementation | `BkashPayment`, `NagadPayment`   |

---

### âœï¸ à¦†à¦ªà¦¨à¦¿ à¦šà¦¾à¦‡à¦²à§‡ à¦à¦‡ System-à¦à¦° à¦‰à¦ªà¦° Laravel Blade à¦¬à¦¾ Laravel API Full Project à¦¬à¦¾à¦¨à¦¿à¦¯à¦¼à§‡ à¦¦à¦¿à¦¤à§‡ à¦ªà¦¾à¦°à¦¿à¥¤

à¦¬à¦²à§à¦¨, Laravel Blade à¦šà¦¾à¦‡? à¦¨à¦¾ API Version?

âœ… à¦¤à¦¾à¦¹à¦²à§‡ à¦†à¦®à¦¿ `routes/web.php`, View, Controller, à¦à¦¬à¦‚ `AppServiceProvider` à¦¸à¦¹ à¦¤à§ˆà¦°à¦¿ à¦•à¦°à§‡ à¦¦à¦¿à¦šà§à¦›à¦¿!
